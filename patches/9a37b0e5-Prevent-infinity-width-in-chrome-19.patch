From 9a37b0e5edbc9c429d2c9492417d7bf3fb82b59c Mon Sep 17 00:00:00 2001
From: Hans-Peter Buniat <hpbuniat@gmail.com>
Date: Sat, 16 Jun 2012 12:26:48 +0200
Subject: [PATCH] -- fix to prevent infinity width in chrome 19+

---
 lib/jquery.jcarousel.js |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)
 mode change 100644 => 100755 lib/jquery.jcarousel.js

diff --git a/lib/jquery.jcarousel.js b/lib/jquery.jcarousel.js
old mode 100644
new mode 100755
index 38d4d9b..f238974
--- a/lib/jquery.jcarousel.js
+++ b/lib/jquery.jcarousel.js
@@ -177,7 +177,7 @@
 
         this.funcNext   = function() { self.next(); return false; };
         this.funcPrev   = function() { self.prev(); return false; };
-        this.funcResize = function() { 
+        this.funcResize = function() {
             if (self.resizeTimer) {
                 clearTimeout(self.resizeTimer);
             }
@@ -414,8 +414,9 @@
 
             this.format(e.removeClass(this.className('jcarousel-item-placeholder')), i);
 
-            var di = this.options.visible !== null ? Math.ceil(this.clipping() / this.options.visible) : null;
-            var wh = this.dimension(e, di) - old;
+            var visible = parseInt(this.options.visible),
+                di = (visible > 0) ? Math.ceil(this.clipping() / visible) : null,
+                wh = this.dimension(e, di) - old;
 
             if (i > 0 && i < this.first) {
                 this.list.css(this.lt, $jc.intval(this.list.css(this.lt)) - wh + 'px');
-- 
1.7.10

